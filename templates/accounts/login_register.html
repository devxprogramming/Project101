{% extends "base/base.html" %}

{% load widget_tweaks %}

{% block title %}
    {% if page == 'login_page' %}
        Login
    {% elif page == 'register_page' %}
        Register
    {% else %}
        Invalid Page Title
    {% endif %}
{% endblock  %}


{% block content %}


{% if page == 'login_page' %}
<main>
    <div class="container">
        
        <section class="section register min-vh-100 d-flex flex-column align-items-center justify-content-center py-4">
            <div class="container">
                        {% include "base/alert.html" %}
                        
                        <div class="row justify-content-center">
                            <div class="col-lg-4 col-md-6 d-flex flex-column align-items-center justify-content-center">
                
                                <div class="d-flex justify-content-center py-4">
                                    <a href="index.html" class="logo d-flex align-items-center w-auto">
                                    <img src="assets/img/logo.png" alt="">
                                    <span class="d-none d-lg-block">StudyBuddy</span>
                                    </a>
                                </div><!-- End Logo -->
                
                                <div class="card mb-3">
                    
                                    <div class="card-body">
                    
                                    <div class="pb-2">
                                        <h5 class="card-title text-center pb-0 fs-4">Login to Your Account</h5>
                                        <p class="text-center small">Enter your username & password to login</p>
                                    </div>
                    
                                    <form method="POST" class="row g-3 needs-validation" novalidate>
                
                                        {% csrf_token %}
                                        <div class="col-12">
                                            <label for="yourUsername" class="form-label">School ID</label>
                                            <div class="input-group has-validation">
                                                <span class="input-group-text" id="inputGroupPrepend">
                                                    <i class="bi bi-person-fill"></i>
                                                </span>
                                                <input type="text" name="school_id" class="form-control" id="yourUsername" required>
                                                <div class="invalid-feedback">Please enter your Student ID.</div>
                                            </div>
                                        </div>
                    
                                        <div class="col-12">
                                        <label for="yourPassword" class="form-label">Password</label>
                                        <div class="input-group has-validation">
                                            <span class="input-group-text" id="togglePassword">
                                                <i class="bi bi-eye" aria-hidden="true"></i>
                                            </span>
                                            <input type="password" name="password" id="password" class="form-control" id="yourPassword" required>
                                            <div class="invalid-feedback">Please enter your Password</div>
                                        </div>                                        
                                        </div>
                                        
                    
                                        <div class="col-12">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" name="remember" value="true" id="rememberMe">
                                                <label class="form-check-label" for="rememberMe">Remember me</label>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <button class="btn btn-primary w-100" type="submit">Login</button>
                                        </div>
                                        <div class="col-12">
                                            <p class="small mb-0">Don't have account? <a href="{% url 'register' %}">Create an account</a></p>
                                        </div>
                                    </form>
                    
                                    </div>
                                </div>
                
                            </div>
                        </div>
                    </div>
            
                </section>
        
    </div>
</main>

{% elif page == 'register_page' %}

<main>
    <div class="container">
        
        <section class="section register min-vh-100 d-flex flex-column align-items-center justify-content-center py-4">
            <div class="container">
                    {% include "base/alert.html" %}
                    
                <div class="row justify-content-center">
                    <div class="col-lg-4 col-md-6 d-flex flex-column align-items-center justify-content-center">
        
                        <div class="d-flex justify-content-center py-4">
                            <a href="index.html" class="logo d-flex align-items-center w-auto">
                            <img src="assets/img/logo.png" alt="">
                            <span class="d-none d-lg-block">StudyBuddy</span>
                            </a>
                        </div><!-- End Logo -->
        
                        <div class="card mb-3">
            
                            <div class="card-body">
            
                                <div class="pb-2">
                                    <h5 class="card-title text-center pb-0 fs-4">Register an Account</h5>
                                    {% comment %} <p class="text-center small">Enter your username & password to login</p> {% endcomment %}
                                </div>
            
                                <form method="POST" class="row g-3 needs-validation" novalidate>
                                    {% csrf_token %}
                                    <div class="col-md-12">
                                        <div class="input-group has-validation">
                                            <span class="input-group-text" id="togglePassword">
                                                <i class="bi bi-person-fill" aria-hidden="true"></i>
                                            </span>
                                            {% render_field form.school_id class="form-control" placeholder="Enter School ID.." %}
                                            <div class="invalid-feedback">Please enter a valid School ID</div>
                                        </div> 
                                    </div>
                                    <div class="col-md-6">                                        
                                        <div class="has-validation">
                                            {% render_field form.full_name class="form-control" placeholder="Enter Full Name.." %}
                                            <div class="invalid-feedback">Please enter your Full Name</div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="has-validation">
                                            {% render_field form.username class="form-control" placeholder="Enter Username.." %}
                                            <div class="invalid-feedback">Please enter a username</div>
                                        </div>
                                    </div>

                                    <div class="input-group has-validation">
                                        <span class="input-group-text" id="togglePassword">
                                            <i class="bi bi-eye" aria-hidden="true"></i>
                                        </span>
                                        {% render_field form.password1 id="password" class="form-control" placeholder="Set a password" %}
                                        <div class="invalid-feedback">Please enter your Password</div>
                                    </div>       

                                    <div class="input-group has-validation">
                                        <span class="input-group-text" id="togglePassword">
                                            <i class="bx bx-check-shield" aria-hidden="true"></i>
                                        </span>
                                        {% render_field form.password2 class="form-control" placeholder="Confirm Password.." %}
                                        <div class="invalid-feedback">Confirm Password</div>
                                    </div> 
                                
                                    <div class="col-md-12">
                                        <div class="input-group has-validation">
                                            <span class="input-group-text" id="togglePassword">
                                                <i class="bi bi-envelope-fill" aria-hidden="true"></i>
                                            </span>
                                            {% render_field form.email class="form-control" placeholder="Enter Email.." %}
                                            <div class="invalid-feedback">Please enter a valid Email</div>
                                        </div> 
                                    </div>

                                    <div class="col-md-12">
                                        {% render_field form.bio class="form-control" rows="1" cols="1" placeholder="About Yourself.." %}
                                    </div>
                                    <div class="col-md-12">
                                        <div class="input-group has-validation">
                                            <span class="input-group-text" id="togglePassword">
                                                <i class="bi bi-gender-ambiguous" aria-hidden="true"></i>
                                            </span>
                                            {% render_field form.gender class="form-control" %}
                                            <div class="invalid-feedback">Please select a Gender</div>
                                        </div> 
                                    </div>
                                    <div class="col-md-12">
                                        <button class="btn btn-primary w-100" type="submit">Register</button>
                                    </div>
                                    <div class="col-md-12">
                                        <p class="small mb-0">Have account already? <a href="{% url 'login' %}">Login Here</a></p>
                                    </div>
                                </form>
            
                            </div>
                        </div>
        
                    </div>
                </div>
            </div>
            
        </section>
        
    </div>
</main>

    {% else %}
    <h1>Error Loading this Page</h1>
    
    {% endif %}


{% endblock  %}